Version 4
SHEET 1 1352 680
WIRE -336 -128 -384 -128
WIRE -288 -128 -336 -128
WIRE -384 -80 -384 -128
WIRE 272 80 256 80
WIRE 944 80 896 80
WIRE -240 96 -384 96
WIRE 944 96 944 80
WIRE -384 128 -384 96
WIRE -192 128 -192 -32
WIRE -240 144 -240 96
WIRE 160 208 144 208
WIRE 256 208 256 80
WIRE 256 208 224 208
WIRE 272 208 256 208
WIRE 368 208 336 208
WIRE 448 208 368 208
WIRE 544 208 528 208
WIRE 944 208 944 176
WIRE 944 208 736 208
WIRE 1024 208 944 208
WIRE 1152 208 1104 208
WIRE 1152 224 1152 208
WIRE -384 256 -384 208
WIRE -240 256 -240 192
WIRE -240 256 -384 256
WIRE 144 256 144 208
WIRE 144 256 64 256
WIRE -192 304 -192 208
WIRE 144 304 144 256
WIRE 160 304 144 304
WIRE 256 304 224 304
WIRE 272 304 256 304
WIRE 368 304 368 208
WIRE 368 304 336 304
WIRE 544 304 448 304
WIRE 768 304 736 304
WIRE 944 304 944 272
WIRE 944 304 768 304
WIRE -288 320 -384 320
WIRE -272 320 -288 320
WIRE 768 336 768 304
WIRE -384 384 -384 320
WIRE 256 416 256 304
WIRE 272 416 256 416
WIRE 64 464 64 256
WIRE 448 464 448 304
WIRE 448 464 64 464
WIRE -384 512 -384 464
WIRE -288 512 -384 512
WIRE -272 512 -288 512
FLAG -288 512 Vin1
FLAG -192 -32 C1
FLAG -192 304 Vin2
FLAG -288 320 Vin2
FLAG 272 80 C1
FLAG 272 416 Vin1
FLAG -384 512 0
FLAG -384 256 0
FLAG -384 0 0
FLAG -336 -128 3V3
FLAG 768 336 0
FLAG 896 80 3V3
FLAG 1152 304 0
SYMBOL voltage -384 112 R0
WINDOW 0 -178 3 Left 2
WINDOW 3 -153 103 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName SwitchControl
SYMATTR Value SINE(0 5 .5)
SYMBOL sw -192 112 R0
SYMATTR InstName S1
SYMATTR Value BUTTON
SYMBOL voltage -384 368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 34 50)
SYMBOL Optos\\PC817A 640 256 R0
SYMATTR InstName U1
SYMBOL res 544 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 330R
SYMBOL voltage -384 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL res 928 80 R0
SYMATTR InstName R2
SYMATTR Value 50k
SYMBOL cap 928 208 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL diode 160 224 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL diode 160 320 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMBOL diode 272 320 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMBOL diode 272 224 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMBOL res 1120 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 330
SYMBOL res 1136 208 R0
SYMATTR InstName Digital_Input
SYMATTR Value 1Meg
TEXT -560 560 Left 2 !.tran 0 5s 0
TEXT -560 592 Left 2 !.model BUTTON SW(Ron=1 Roff=1Meg Vt=.5 Vh=-.4)
