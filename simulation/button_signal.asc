Version 4
SHEET 1 1588 680
WIRE 528 -272 512 -272
WIRE 416 -144 400 -144
WIRE 512 -144 512 -272
WIRE 512 -144 480 -144
WIRE 528 -144 512 -144
WIRE 624 -144 592 -144
WIRE -336 -128 -384 -128
WIRE -288 -128 -336 -128
WIRE 624 -96 624 -144
WIRE 768 -96 624 -96
WIRE -384 -80 -384 -128
WIRE 768 -80 768 -96
WIRE 400 -48 400 -144
WIRE 416 -48 400 -48
WIRE 512 -48 480 -48
WIRE 528 -48 512 -48
WIRE 624 -48 624 -96
WIRE 624 -48 592 -48
WIRE 512 64 512 -48
WIRE 528 64 512 64
WIRE -240 96 -384 96
WIRE -384 128 -384 96
WIRE -192 128 -192 -32
WIRE -240 144 -240 96
WIRE 176 208 64 208
WIRE 304 208 256 208
WIRE 336 208 304 208
WIRE 656 208 528 208
WIRE 800 240 752 240
WIRE -384 256 -384 208
WIRE -368 256 -384 256
WIRE -240 256 -240 192
WIRE -240 256 -368 256
WIRE 800 256 800 240
WIRE -192 304 -192 208
WIRE 336 304 288 304
WIRE 592 304 528 304
WIRE -288 320 -384 320
WIRE -272 320 -288 320
WIRE 656 368 656 208
WIRE 800 368 800 336
WIRE 800 368 656 368
WIRE 880 368 800 368
WIRE 1008 368 960 368
WIRE -384 384 -384 320
WIRE 1008 384 1008 368
WIRE 304 432 304 208
WIRE 336 432 304 432
WIRE 592 432 592 304
WIRE 592 432 528 432
WIRE 592 448 592 432
WIRE 800 464 800 432
WIRE -384 512 -384 464
WIRE -288 512 -384 512
WIRE -272 512 -288 512
WIRE 64 528 48 528
WIRE 288 528 288 304
WIRE 288 528 64 528
WIRE 336 528 288 528
WIRE 656 528 656 368
WIRE 656 528 528 528
FLAG -288 512 Vin1
FLAG -192 -32 C1
FLAG -192 304 Vin2
FLAG -288 320 Vin2
FLAG 64 208 C1
FLAG 64 528 Vin1
FLAG -384 0 0
FLAG -336 -128 3V3
FLAG 752 240 3V3
FLAG 1008 464 0
FLAG -368 256 0
FLAG 528 -272 Vin2
FLAG 528 64 Vin1
FLAG 400 -48 0
FLAG 768 0 0
FLAG 800 464 0
FLAG 592 448 0
SYMBOL voltage -384 112 R0
WINDOW 0 -178 3 Left 2
WINDOW 3 -153 103 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName SwitchControl
SYMATTR Value SINE(0 5 .5)
SYMBOL sw -192 112 R0
SYMATTR InstName S1
SYMATTR Value BUTTON
SYMBOL voltage -384 368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 34 50)
SYMBOL Optos\\PC817A 432 256 R0
SYMATTR InstName U1
SYMBOL res 272 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 330R
SYMBOL voltage -384 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL res 784 240 R0
SYMATTR InstName R2
SYMATTR Value 50k
SYMBOL cap 784 368 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL res 976 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 330
SYMBOL res 992 368 R0
SYMATTR InstName Digital_Input
SYMATTR Value 1Meg
SYMBOL diode 416 -128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMBOL diode 416 -32 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMBOL diode 528 -32 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D7
SYMBOL diode 528 -128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D8
SYMBOL res 752 -96 R0
SYMATTR InstName R4
SYMATTR Value 250
SYMBOL Optos\\PC817A 432 480 M180
SYMATTR InstName U2
TEXT -560 560 Left 2 !.tran 0 5s 0
TEXT -560 592 Left 2 !.model BUTTON SW(Ron=1 Roff=1Meg Vt=.5 Vh=-.4)
